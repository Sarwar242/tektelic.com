@extends('layout')
@section('metaTitle', 'Catalog')
@section('metaDesc', preg_replace( "/\r|\n/", "", strip_tags('Catalog') ))

@section('content')
    <div class="page-header">
        <div class="container">
            <div class="page-breadcrumbs">
                <ul class="breadcrumbs-navigation">
                    {{ Breadcrumbs::render('catalog') }}
                </ul>
            </div>
            <div class="page-headings">
                <h1 class="page-title">{{((!empty($heading->title))?$heading->title:'Catalog')}}</h1>
            </div>
        </div>
    </div>
    <div class="page-body">
        <div class="container">
            <div class="service-panel">
                <div class="row">
                    <div class="service-panel-item col-12 col-sm-6 col-lg-4">
                        <a class="filter-button" id="catalog-filter">
                            <div class="filter-trigger">
                                <svg class="filter-button-icon" width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.3741 1.3635H5.84165C5.57958 0.571914 4.84335 0 3.97773 0C3.11211 0 2.37588 0.571914 2.11381 1.3635H0.625869C0.280222 1.3635 0 1.64848 0 2C0 2.35152 0.280222 2.6365 0.625869 2.6365H2.11385C2.37592 3.42809 3.11215 4 3.97777 4C4.84339 4 5.57962 3.42809 5.84169 2.6365H15.3741C15.7198 2.6365 16 2.35152 16 2C16 1.64848 15.7198 1.3635 15.3741 1.3635V1.3635ZM3.97773 2.72701C3.58356 2.72701 3.26286 2.40087 3.26286 2C3.26286 1.59913 3.58356 1.27299 3.97773 1.27299C4.3719 1.27299 4.6926 1.59913 4.6926 2C4.6926 2.40087 4.3719 2.72701 3.97773 2.72701Z" fill="white"/>
                                    <path d="M15.3741 6.3635H13.8861C13.624 5.57191 12.8878 5 12.0222 5C11.1566 5 10.4204 5.57191 10.1583 6.3635H0.625869C0.280222 6.3635 0 6.64848 0 7C0 7.35152 0.280222 7.6365 0.625869 7.6365H10.1583C10.4204 8.42809 11.1567 9 12.0222 9C12.8878 9 13.6241 8.42809 13.8861 7.6365H15.3741C15.7198 7.6365 16 7.35152 16 7C16 6.64848 15.7198 6.3635 15.3741 6.3635ZM12.0222 7.72701C11.6281 7.72701 11.3074 7.40087 11.3074 7C11.3074 6.59913 11.6281 6.27299 12.0222 6.27299C12.4164 6.27299 12.7371 6.59913 12.7371 7C12.7371 7.40087 12.4164 7.72701 12.0222 7.72701Z" fill="white"/>
                                    <path d="M15.3741 11.3635H8.52316C8.26109 10.5719 7.52486 10 6.65924 10C5.79363 10 5.0574 10.5719 4.79532 11.3635H0.625869C0.280222 11.3635 0 11.6485 0 12C0 12.3515 0.280222 12.6365 0.625869 12.6365H4.79532C5.0574 13.4281 5.79363 14 6.65924 14C7.52486 14 8.26109 13.4281 8.52316 12.6365H15.3741C15.7198 12.6365 16 12.3515 16 12C16 11.6485 15.7198 11.3635 15.3741 11.3635ZM6.65924 12.727C6.26507 12.727 5.94438 12.4009 5.94438 12C5.94438 11.5992 6.26507 11.273 6.65924 11.273C7.05342 11.273 7.37411 11.5991 7.37411 12C7.37411 12.4009 7.05342 12.727 6.65924 12.727V12.727Z" fill="white"/>
                                </svg>
                                <span class="filter-button-title">Filter</span>
                            </div>
                        </a>
                    </div>
                    <div class="service-panel-item col-12 col-sm-6 col-lg-4">
                        <div class="result-count">
                            Shown:
                            <span class="firstItem" style="margin: 0 3px">{{$products->firstItem()}}</span>
                            -
                            <span class="count" style="margin: 0 3px">{{$products->count()}}</span>
                            of
                            <span class="total" style="margin: 0 3px">{{$products->total()}}</span>
                            items
                        </div>
                    </div>
                </div>
            </div>
            @include('layouts._parts.filter_panel',[
                'categories' => $categories,
                'category_slug' => $category_slug,
                'url' => 'catalog',
            ])
{{--            <div class="catalog-filters">--}}
{{--                @widget('CategoriesList',[--}}
{{--                    'category_slug' => $category_slug,--}}
{{--                    'categories' => $categories--}}
{{--                ])--}}
{{--            </div>--}}
            <div class="catalog-area">
                <div class="catalog-wrapper">
                    <div class="catalog-aside">
                        <div class="catalog-panel">
                            <div class="filter-button">
                                <div class="filter-trigger">
                                    <svg class="filter-button-icon" width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M13.9831 1.21943H5.3131C5.07474 0.511482 4.40513 0 3.61783 0C2.83053 0 2.16091 0.511482 1.92255 1.21943H0.569241C0.254868 1.21943 0 1.4743 0 1.78867C0 2.10304 0.254868 2.35791 0.569241 2.35791H1.92259C2.16095 3.06586 2.83057 3.57734 3.61787 3.57734C4.40516 3.57734 5.07478 3.06586 5.31314 2.35791H13.9831C14.2975 2.35791 14.5523 2.10304 14.5523 1.78867C14.5523 1.4743 14.2975 1.21943 13.9831 1.21943ZM3.61783 2.43886C3.25932 2.43886 2.96764 2.14718 2.96764 1.78867C2.96764 1.43016 3.25932 1.13848 3.61783 1.13848C3.97634 1.13848 4.26802 1.43016 4.26802 1.78867C4.26802 2.14718 3.97634 2.43886 3.61783 2.43886Z" fill="white"/>
                                        <path d="M13.9831 6.09638H12.6297C12.3913 5.38843 11.7217 4.87695 10.9344 4.87695C10.1472 4.87695 9.47756 5.38843 9.2392 6.09638H0.569241C0.254868 6.09638 0 6.35125 0 6.66562C0 6.97999 0.254868 7.23486 0.569241 7.23486H9.2392C9.47756 7.94281 10.1472 8.45429 10.9345 8.45429C11.7217 8.45429 12.3914 7.94281 12.6297 7.23486H13.9831C14.2975 7.23486 14.5523 6.97999 14.5523 6.66562C14.5523 6.35125 14.2975 6.09638 13.9831 6.09638ZM10.9345 7.31581C10.576 7.31581 10.2843 7.02413 10.2843 6.66562C10.2843 6.30711 10.576 6.01543 10.9345 6.01543C11.293 6.01543 11.5847 6.30711 11.5847 6.66562C11.5847 7.02413 11.293 7.31581 10.9345 7.31581Z" fill="white"/>
                                        <path d="M13.9831 10.9753H7.752C7.51364 10.2673 6.84402 9.75586 6.05672 9.75586C5.26942 9.75586 4.59981 10.2673 4.36145 10.9753H0.569241C0.254868 10.9753 0 11.2302 0 11.5445C0 11.8589 0.254868 12.1138 0.569241 12.1138H4.36145C4.59981 12.8217 5.26942 13.3332 6.05672 13.3332C6.84402 13.3332 7.51364 12.8217 7.752 12.1138H13.9831C14.2975 12.1138 14.5523 11.8589 14.5523 11.5445C14.5523 11.2302 14.2975 10.9753 13.9831 10.9753ZM6.05672 12.1948C5.69821 12.1948 5.40654 11.9031 5.40654 11.5446C5.40654 11.1861 5.69821 10.8944 6.05672 10.8944C6.41523 10.8944 6.70691 11.186 6.70691 11.5445C6.70691 11.903 6.41523 12.1948 6.05672 12.1948Z" fill="white"/>
                                    </svg>
                                    <span class="filter-button-title">Filter</span>
                                </div>
                            </div>
                        </div>
                        <div class="catalog-aside-inner">
                            @widget('productFilter',['products' => $products,'class' => 'aside-accordion'])
                        </div>
                    </div>
                    <div class="catalog-main">
                        <div class="catalog-panel">
                            <form style="width: 100%;" action="" method="get" class="form-sort">
                                <select class="ordering wide">
                                    <option value="0">Sort by</option>
                                    <option value="1">A-Z</option>
                                    <option value="2">Z-A</option>
{{--                                    <option value="2">New</option>--}}
{{--                                    <option value="3">Popular</option>--}}
{{--                                    <option value="4">Price ascending</option>--}}
{{--                                    <option value="6">Price descending</option>--}}
                                </select>
                            </form>
                            <div class="result-count">
                                Shown:
                                <span class="firstItem" style="margin: 0 3px"> {{$products->firstItem()}} </span>
                                 -
                                <span class="count" style="margin: 0 3px"> {{$products->count()}} </span>
                                 of
                                <span class="total" style="margin: 0 3px"> {{$products->total()}} </span>
                                 items
                            </div>
                        </div>
                        <div class="catalog-showcase render-list">
                            @if($products->total() >= 1 )
                                @include('products._propery.item_product',['products' => $products])
                            @else
                                <div class='catalog-showcase-empty'>No results were found for your search.</div>
                            @endif
                        </div>
                    </div>
                </div>
                <div class="catalog-footer">
                    <div class="pagination">
                        @if($products->currentPage() != $products->lastPage())
                            <div class="load-more load-data-content"
                                 data-type="catalog"
                                 data-url="{{$action_name}}"
                                 data-current-page="{{isset($_GET['page']) ? $_GET['page'] : 1 }}"
                                 data-aos="fade-in" data-aos-duration="1000" data-aos-delay="100"
                                 data-empty-query="No results were found for your search."> Load more </div>
                        @endif
                        @include('layouts._parts.paginator', ['paginator' => $products])
                    </div>
                    <aside class="active-panel">
                        <a class="in-wishlist" href="{{url('wishlist')}}" id="in-wishlist">
                            <svg width="45" height="42" viewBox="0 0 45 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-inside-1" fill="white">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.4997 7.69451L20.4831 5.63092C15.7497 0.786934 7.07033 2.45853 3.93721 8.54851C2.46627 11.4129 2.13439 15.5485 4.82033 20.8265C7.40783 25.9085 12.791 31.9956 22.4997 38.626C32.2085 31.9956 37.5888 25.9085 40.1791 20.8265C42.865 15.5457 42.536 11.4129 41.0622 8.54851C37.9291 2.45853 29.2497 0.784134 24.5163 5.62812L22.4997 7.69451ZM22.4997 42C-20.6244 13.6305 9.22189 -8.51184 22.0047 3.20053C22.1735 3.35453 22.3394 3.51412 22.4997 3.67932C22.6584 3.51428 22.8235 3.35549 22.9947 3.20333C35.7747 -8.51744 65.6238 13.6277 22.4997 42Z"/>
                                </mask>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M22.4997 7.69451L20.4831 5.63092C15.7497 0.786934 7.07033 2.45853 3.93721 8.54851C2.46627 11.4129 2.13439 15.5485 4.82033 20.8265C7.40783 25.9085 12.791 31.9956 22.4997 38.626C32.2085 31.9956 37.5888 25.9085 40.1791 20.8265C42.865 15.5457 42.536 11.4129 41.0622 8.54851C37.9291 2.45853 29.2497 0.784134 24.5163 5.62812L22.4997 7.69451ZM22.4997 42C-20.6244 13.6305 9.22189 -8.51184 22.0047 3.20053C22.1735 3.35453 22.3394 3.51412 22.4997 3.67932C22.6584 3.51428 22.8235 3.35549 22.9947 3.20333C35.7747 -8.51744 65.6238 13.6277 22.4997 42Z" fill="#2CABE1"/>
                                <path d="M22.4997 7.69451L11.7716 18.1782L22.507 29.164L33.235 18.1709L22.4997 7.69451ZM20.4831 5.63092L9.75483 16.1144L9.75499 16.1146L20.4831 5.63092ZM3.93721 8.54851L-9.4011 1.68632L-9.40624 1.69631L3.93721 8.54851ZM4.82033 20.8265L-8.54818 27.6296L-8.54679 27.6324L4.82033 20.8265ZM22.4997 38.626L14.0403 51.013L22.4997 56.7902L30.9591 51.013L22.4997 38.626ZM40.1791 20.8265L53.5432 27.6382L53.549 27.6268L40.1791 20.8265ZM41.0622 8.54851L27.7239 15.4107L27.7241 15.4111L41.0622 8.54851ZM24.5163 5.62812L13.788 -4.85536L13.781 -4.84826L24.5163 5.62812ZM22.4997 42L14.2558 54.5315L22.5001 59.9551L30.7442 54.5311L22.4997 42ZM22.0047 3.20053L11.8713 14.2601L11.8823 14.2702L11.8934 14.2803L22.0047 3.20053ZM22.4997 3.67932L11.7351 14.1255L22.5499 25.27L33.3127 14.0754L22.4997 3.67932ZM22.9947 3.20333L32.9599 14.4147L33.0472 14.3371L33.1333 14.2582L22.9947 3.20333ZM33.2279 -2.78913L31.2113 -4.85272L9.75499 16.1146L11.7716 18.1782L33.2279 -2.78913ZM31.2115 -4.85256C18.5987 -17.7599 -2.06826 -12.5668 -9.4011 1.68632L17.2755 15.4107C16.479 16.9589 15.2054 17.5816 14.2949 17.7472C13.3413 17.9207 11.4017 17.7997 9.75483 16.1144L31.2115 -4.85256ZM-9.40624 1.69631C-13.4277 9.52741 -13.0451 18.793 -8.54818 27.6296L18.1888 14.0233C17.6805 13.0245 17.7957 12.8088 17.8115 13.2789C17.819 13.5029 17.8007 13.8266 17.7126 14.219C17.625 14.6092 17.4813 15.01 17.2806 15.4007L-9.40624 1.69631ZM-8.54679 27.6324C-4.42119 35.7352 3.11911 43.5547 14.0403 51.013L30.9591 26.239C22.4628 20.4366 19.2369 16.0817 18.1874 14.0206L-8.54679 27.6324ZM30.9591 51.013C41.8841 43.5521 49.4167 35.7341 53.5432 27.6382L26.815 14.0147C25.7608 16.0828 22.5328 20.4392 14.0403 26.239L30.9591 51.013ZM53.549 27.6268C58.0392 18.7987 58.4363 9.53031 54.4003 1.68595L27.7241 15.4111C27.522 15.0182 27.377 14.6146 27.2886 14.2215C27.1998 13.8263 27.1815 13.5004 27.1891 13.2752C27.205 12.8037 27.3203 13.0211 26.8091 14.0262L53.549 27.6268ZM54.4005 1.68632C47.0711 -12.5601 26.4057 -17.7678 13.788 -4.85536L35.2446 16.1116C33.5962 17.7985 31.6546 17.9189 30.7013 17.7453C29.7916 17.5795 28.5197 16.9574 27.7239 15.4107L54.4005 1.68632ZM13.781 -4.84826L11.7645 -2.78186L33.235 18.1709L35.2515 16.1045L13.781 -4.84826ZM30.7436 29.4685C21.1743 23.1733 17.1951 18.1929 15.7329 15.3881C14.4523 12.9316 15.3704 12.8969 14.8014 14.0784C14.5282 14.6455 13.5965 15.8408 11.8713 14.2601L32.1381 -7.85903C17.6301 -21.1522 -4.61616 -14.7419 -12.2271 1.06073C-16.4651 9.85991 -15.7217 19.9481 -10.8693 29.2562C-6.19843 38.216 2.26306 46.642 14.2558 54.5315L30.7436 29.4685ZM11.8934 14.2803C11.8688 14.2579 11.8133 14.2061 11.7351 14.1255L33.2643 -6.76686C32.8655 -7.17782 32.4781 -7.54882 32.116 -7.87926L11.8934 14.2803ZM33.3127 14.0754C33.1995 14.1932 33.0818 14.3064 32.9599 14.4147L13.0295 -8.00803C12.5653 -7.5954 12.1173 -7.16465 11.6867 -6.71674L33.3127 14.0754ZM33.1333 14.2582C31.4068 15.8415 30.4707 14.6438 30.1972 14.0761C29.6282 12.8948 30.5464 12.93 29.2656 15.3871C27.8035 18.1922 23.8244 23.1731 14.2552 29.4689L30.7442 54.5311C42.7371 46.6407 51.1983 38.2139 55.8688 29.2533C60.7206 19.9448 61.4635 9.8564 57.2252 1.05742C49.6133 -14.7458 27.3626 -21.1557 12.8561 -7.8515L33.1333 14.2582Z" fill="#2CABE1" mask="url(#path-1-inside-1)"/>
                            </svg>
                            <div class="in-wishlist-count"><?= \App\Wishlist::countWishlist(\App\Helpers\Helper::getUserCookieId()) ?></div></a><a class="in-compare" href="{{url('compare')}}" id="in-compare"><svg width="43" height="36" viewBox="0 0 43 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.4573 26.3157L16.875 25.8561V23.5898L10.0305 9.14062H6.84448L0 23.5898V25.9666L0.372129 26.3704C1.3942 27.4771 2.63404 28.3606 4.01379 28.9653C5.39354 29.57 6.88341 29.883 8.38986 29.8845H8.42678C9.93943 29.8778 11.4342 29.5571 12.8165 28.9428C14.1988 28.3285 15.4386 27.4339 16.4573 26.3157V26.3157ZM14.0625 24.7507C12.562 26.241 10.532 27.0758 8.4172 27.0722H8.38819C6.31059 27.0826 4.31065 26.2833 2.8125 24.8438V24.2227L8.4375 12.3476L14.0625 24.2227V24.7507Z" fill="#2CABE1"/>
                                <path d="M35.343 9.14062H32.157L25.3125 23.5898V25.9666L25.6846 26.3704C26.7067 27.4771 27.9465 28.3606 29.3263 28.9653C30.706 29.57 32.1959 29.883 33.7024 29.8845H33.7393C35.2519 29.8778 36.7467 29.5571 38.1291 28.9427C39.5114 28.3284 40.7511 27.4338 41.7698 26.3155L42.1875 25.8561V23.5898L35.343 9.14062ZM39.375 24.7507C37.8745 26.241 35.8445 27.0758 33.7297 27.0722H33.7007C31.6231 27.0826 29.6231 26.2833 28.125 24.8438V24.2227L33.75 12.3476L39.375 24.2227V24.7507Z" fill="#2CABE1"/>
                                <path d="M22.5 9.63802C23.2823 9.40288 23.9941 8.97747 24.5717 8.39985C25.1493 7.82224 25.5747 7.11044 25.8099 6.32815H35.1562V3.51565H25.8099C25.5072 2.49992 24.8846 1.60907 24.0349 0.975622C23.1852 0.342178 22.1536 0 21.0938 0C20.0339 0 19.0023 0.342178 18.1526 0.975622C17.3028 1.60907 16.6803 2.49992 16.3776 3.51565H7.03125V6.32815H16.3776C16.6128 7.11044 17.0382 7.82224 17.6158 8.39985C18.1934 8.97747 18.9052 9.40288 19.6875 9.63802V33.0469H10.5469V35.8594H31.6406V33.0469H22.5V9.63802ZM18.9844 4.9219C18.9844 4.5047 19.1081 4.09688 19.3399 3.74999C19.5716 3.40311 19.9011 3.13274 20.2865 2.97309C20.672 2.81344 21.0961 2.77166 21.5053 2.85305C21.9144 2.93444 22.2903 3.13534 22.5853 3.43034C22.8803 3.72534 23.0812 4.1012 23.1626 4.51038C23.244 4.91956 23.2022 5.34368 23.0426 5.72912C22.8829 6.11456 22.6125 6.444 22.2657 6.67578C21.9188 6.90756 21.5109 7.03127 21.0938 7.03127C20.5343 7.03127 19.9978 6.80903 19.6022 6.41345C19.2066 6.01787 18.9844 5.48134 18.9844 4.9219Z" fill="#2CABE1"/>
                            </svg>
                            <div class="in-compare-count"><?= \App\Comparison::countComparison(\App\Helpers\Helper::getUserCookieId()) ?></div></a></aside>
                </div>
            </div>
            @include('layouts._parts.seo_block', ['entity' => $seo_block])
        </div>
    </div>
@endsection

@section('footer')

@endsection()
